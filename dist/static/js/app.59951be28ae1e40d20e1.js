webpackJsonp([4],{"/kga":function(t,e,i){"use strict";function n(t){i("7zGH")}var a=i("JkZY"),s=(a.a,Boolean,String,String,Number,String,String,Boolean,Object,Boolean,{mixins:[a.a],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(t){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(t){this.$emit("update:show",t),this.$emit(t?"on-show":"on-hide"),t?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var t=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),e=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(t&&e)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===t.layout}},[i("transition",{attrs:{name:t.maskTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-mask",style:t.maskStyle,on:{click:t.hide}})]),t._v(" "),i("transition",{attrs:{name:t.dialogTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.dialogClass,style:t.dialogStyle},[t._t("default")],2)])],1)},r=[],l={render:o,staticRenderFns:r},c=l,u=i("VU/8"),d=n,h=u(s,c,!1,d,null,null);e.a=h.exports},"0q+O":function(t,e){},"0xDb":function(t,e,i){"use strict";var n={dataURLtoBlob:function(t){for(var e=t.split(","),i=e[0].match(/:(.*?);/)[1],n=atob(e[1]),a=n.length,s=new Uint8Array(a);a--;)s[a]=n.charCodeAt(a);return new Blob([s],{type:i})},deletaUserData:function(){window.localStorage.removeItem("token"),window.localStorage.removeItem("user"),window.location.href="http://device.olfu.xyz/"}};e.a=n},"2lnh":function(t,e){},"2sLL":function(t,e,i){"use strict";function n(t){i("RMDY")}var a=i("0FxO"),s=(Boolean,Boolean,Boolean,String,String,Boolean,String,Object,Array,{name:"x-button",props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean,link:[String,Object],gradients:{type:Array,validator:function(t){return 2===t.length}}},methods:{onClick:function(){!this.disabled&&Object(a.a)(this.link,this.$router)}},computed:{noBorder:function(){return Array.isArray(this.gradients)},buttonStyle:function(){if(this.gradients)return{background:"linear-gradient(90deg, "+this.gradients[0]+", "+this.gradients[1]+")",color:"#FFFFFF"}},classes:function(){return[{"weui-btn_disabled":!this.plain&&this.disabled,"weui-btn_plain-disabled":this.plain&&this.disabled,"weui-btn_mini":this.mini,"vux-x-button-no-border":this.noBorder},this.plain?"":"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"weui-btn",class:t.classes,style:t.buttonStyle,attrs:{disabled:t.disabled,type:t.actionType},on:{click:t.onClick}},[t.showLoading?i("i",{staticClass:"weui-loading"}):t._e(),t._v(" "),t._t("default",[t._v(t._s(t.text))])],2)},r=[],l={render:o,staticRenderFns:r},c=l,u=i("VU/8"),d=n,h=u(s,c,!1,d,null,null);e.a=h.exports},"3Lt7":function(t,e,i){"use strict";var n=["-moz-box-","-webkit-box-",""],a=(Number,String,Number,String,["-moz-box-","-webkit-box-",""]),s={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(t){return"number"==typeof t?t<1?t:t/12:"string"==typeof t?t.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var t={},e="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(t[e]=this.$parent.gutter+"px"),this.span)for(var i=0;i<a.length;i++)t[a[i]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(t.order=this.order),t}},data:function(){return{bodyWidth:0}}},o=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-flexbox-item",style:t.style},[t._t("default")],2)},r=[],l={render:o,staticRenderFns:r},c=l,u=i("VU/8"),d=u(s,c,!1,null,null,null);e.a=d.exports},"3iZP":function(t,e){},"3k2l":function(t,e){},"55wj":function(t,e){},"62KO":function(t,e,i){"use strict";function n(t){i("nnSp")}var a=i("/kga"),s=(a.a,Boolean,Boolean,String,String,Boolean,String,String,String,String,Number,String,String,String,Boolean,Object,Boolean,String,Boolean,Boolean,{name:"confirm",components:{XDialog:a.a},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"},showCancelButton:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(t){this.showValue=t},showValue:function(t){var e=this;this.$emit("input",t),t&&(this.showInput&&(this.msg="",setTimeout(function(){e.$refs.input&&e.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(t){this.msg=t},setInputFocus:function(t){t&&t.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-confirm"},[i("x-dialog",{attrs:{"dialog-class":"android"===t.theme?"weui-dialog weui-skin_android":"weui-dialog","mask-transition":t.maskTransition,"dialog-transition":"android"===t.theme?"vux-fade":t.dialogTransition,"hide-on-blur":t.hideOnBlur,"mask-z-index":t.maskZIndex},on:{"on-hide":function(e){return t.$emit("on-hide")}},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[t.title?i("div",{staticClass:"weui-dialog__hd",class:{"with-no-content":!t.showContent}},[i("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),t.showContent?[t.showInput?i("div",{staticClass:"vux-prompt"},["checkbox"===t.getInputAttrs().type?i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.msg)?t._i(t.msg,null)>-1:t.msg},on:{touchend:t.setInputFocus,change:function(e){var i=t.msg,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.msg=i.concat([null])):s>-1&&(t.msg=i.slice(0,s).concat(i.slice(s+1)))}else t.msg=a}}},"input",t.getInputAttrs(),!1)):"radio"===t.getInputAttrs().type?i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.msg,null)},on:{touchend:t.setInputFocus,change:function(e){t.msg=null}}},"input",t.getInputAttrs(),!1)):i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:t.getInputAttrs().type},domProps:{value:t.msg},on:{touchend:t.setInputFocus,input:function(e){e.target.composing||(t.msg=e.target.value)}}},"input",t.getInputAttrs(),!1))]):i("div",{staticClass:"weui-dialog__bd"},[t._t("default",[i("div",{domProps:{innerHTML:t._s(t.content)}})])],2)]:t._e(),t._v(" "),i("div",{staticClass:"weui-dialog__ft"},[t.showCancelButton?i("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t._onCancel}},[t._v(t._s(t.cancelText||"取消"))]):t._e(),t._v(" "),t.showConfirmButton?i("a",{staticClass:"weui-dialog__btn",class:"weui-dialog__btn_"+t.confirmType,attrs:{href:"javascript:;"},on:{click:t._onConfirm}},[t._v(t._s(t.confirmText||"确定"))]):t._e()])],2)],1)},r=[],l={render:o,staticRenderFns:r},c=l,u=i("VU/8"),d=n,h=u(s,c,!1,d,null,null);e.a=h.exports},"78BN":function(t,e){},"7xrM":function(t,e){},"7zGH":function(t,e){},"8QPr":function(t,e){},"9mDx":function(t,e){},ABCa:function(t,e,i){"use strict";function n(t){i("owug")}var a=i("BEQ0"),s=i.n(a),o=(Object,String,String,Object,{name:"x-header",props:{leftOptions:Object,title:String,transition:String,rightOptions:{type:Object,default:function(){return{showMore:!1}}}},beforeMount:function(){this.$slots["overwrite-title"]&&(this.shouldOverWriteTitle=!0)},computed:{_leftOptions:function(){return s()({showBack:!0,preventGoBack:!1},this.leftOptions||{})}},methods:{onClickBack:function(){this._leftOptions.preventGoBack?this.$emit("on-click-back"):this.$router?this.$router.back():window.history.back()}},data:function(){return{shouldOverWriteTitle:!1}}}),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-header"},[i("div",{staticClass:"vux-header-left"},[t._t("overwrite-left",[i("transition",{attrs:{name:t.transition}},[i("a",{directives:[{name:"show",rawName:"v-show",value:t._leftOptions.showBack,expression:"_leftOptions.showBack"}],staticClass:"vux-header-back",on:{click:[function(e){if("keyCode"in e&&t._k(e.keyCode,"preventDefault",void 0,e.key,void 0))return null},t.onClickBack]}},[t._v(t._s(void 0===t._leftOptions.backText?"返回":t._leftOptions.backText))])]),t._v(" "),i("transition",{attrs:{name:t.transition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t._leftOptions.showBack,expression:"_leftOptions.showBack"}],staticClass:"left-arrow",on:{click:t.onClickBack}})])]),t._v(" "),t._t("left")],2),t._v(" "),t.shouldOverWriteTitle?t._e():i("h1",{staticClass:"vux-header-title",on:{click:function(e){return t.$emit("on-click-title")}}},[t._t("default",[i("transition",{attrs:{name:t.transition}},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}]},[t._v(t._s(t.title))])])])],2),t._v(" "),t.shouldOverWriteTitle?i("div",{staticClass:"vux-header-title-area"},[t._t("overwrite-title")],2):t._e(),t._v(" "),i("div",{staticClass:"vux-header-right"},[t.rightOptions.showMore?i("a",{staticClass:"vux-header-more",on:{click:[function(e){if("keyCode"in e&&t._k(e.keyCode,"preventDefault",void 0,e.key,void 0))return null},function(e){return t.$emit("on-click-more")}]}}):t._e(),t._v(" "),t._t("right")],2)])},l=[],c={render:r,staticRenderFns:l},u=c,d=i("VU/8"),h=n,m=d(o,u,!1,h,null,null);e.a=m.exports},Bfwr:function(t,e,i){"use strict";function n(t){i("3iZP")}var a=(Boolean,String,String,String,{name:"loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(t){this.$emit("update:show",t)}}}),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:t.transition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:t.text?"":"vux-loading-no-text"},[i("div",{staticClass:"weui-mask_transparent"}),t._v(" "),i("div",{staticClass:"weui-toast",style:{position:t.position}},[i("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),t.text?i("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.text||"加载中")),t._t("default")],2):t._e()])])])},o=[],r={render:s,staticRenderFns:o},l=r,c=i("VU/8"),u=n,d=c(a,l,!1,u,null,null);e.a=d.exports},Coj8:function(t,e){},DC2r:function(t,e){},"Gz2+":function(t,e){},Luh7:function(t,e){},NHnr:function(t,e,i){"use strict";function n(t){i("8QPr")}function a(t){i("tU7V")}function s(t){i("ZUNL")}function o(t){i("Ngll")}function r(t){i("Luh7")}function l(t,e){return tt()(t)===tt()(e)}function c(t,e){return tt()(t)===tt()(e)}function u(t){i("uGHa")}function d(t){i("78BN")}function h(t){i("siRm")}function m(t){i("Gz2+")}function f(t){i("9mDx")}function p(t){i("Coj8")}function v(t){i("0q+O")}function g(t){i("DC2r")}function _(t){i("ph9p")}function x(t){i("qQ5p"),i("fegz")}function w(t){i("OsXO")}function b(t){i("7xrM")}function y(t){i("Ugwv"),i("dCUv")}Object.defineProperty(e,"__esModule",{value:!0});var C=i("7+uW"),S=i("v5o6"),k=i.n(S),$=i("/ocq"),V={name:"app",data:function(){return{json:{}}}},B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},T=[],I={render:B,staticRenderFns:T},F=I,R=i("VU/8"),N=n,j=R(V,F,!1,N,null,null),D=j.exports,O=i("mtWM"),A=i.n(O),L=i("Rf8U"),M=i.n(L),H=i("gyMJ"),U=(encodeURIComponent("http://device.olfu.xyz/redirect"),{name:"Home",created:function(){var t=this;window.localStorage.getItem("token")?this.$router.push({path:"/devices"}):this.axios.get(H.a.jssign+"?url="+window.location.href).then(function(e){t.json.time_stamp=e.data.data.timestamp,t.json.noncestr=e.data.data.nonce_str,t.json.signature=e.data.data.signature,window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+E+"&redirect_uri="+P+"&response_type=code&scope=snsapi_base&agentid="+W+"&state=STATE#wechat_redirect"}).catch(function(t){console.log(t)}).finally()},methods:{getTestToken:function(){var t=this;this.axios.post(H.a.weworkToken,{wework_id:"ChenZhen"}).then(function(e){window.localStorage.setItem("token",e.data.token),window.localStorage.getItem("token")?t.$router.push({path:"/devices"}):t.axios.get(H.a.jssign+"?url="+window.location.href).then(function(e){t.json.time_stamp=e.data.data.timestamp,t.json.noncestr=e.data.data.nonce_str,t.json.signature=e.data.data.signature,window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+E+"&redirect_uri="+P+"&response_type=code&scope=snsapi_base&agentid="+W+"&state=STATE#wechat_redirect"}).catch(function(t){console.log(t)}).finally()})}},data:function(){return{flag:!0,json:{}}}}),E="wwa417d520fd30a759",P=encodeURIComponent("http://device.olfu.xyz/redirect"),W="1000016",q=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},z=[],Y={render:q,staticRenderFns:z},X=Y,G=i("VU/8"),J=a,Q=G(U,X,!1,J,"data-v-0d63d4da",null),Z=Q.exports,K=i("mvHQ"),tt=i.n(K),et={name:"view-box",props:["bodyPaddingTop","bodyPaddingBottom"],methods:{scrollTo:function(t){this.$refs.viewBoxBody.scrollTop=t},getScrollTop:function(){return this.$refs.viewBoxBody.scrollTop},getScrollBody:function(){return this.$refs.viewBoxBody}}},it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weui-tab"},[t._t("header"),t._v(" "),i("div",{ref:"viewBoxBody",staticClass:"weui-tab__panel vux-fix-safari-overflow-scrolling",style:{paddingTop:t.bodyPaddingTop,paddingBottom:t.bodyPaddingBottom},attrs:{id:"vux_view_box_body"}},[t._t("default")],2),t._v(" "),t._t("bottom")],2)},nt=[],at={render:it,staticRenderFns:nt},st=at,ot=i("VU/8"),rt=s,lt=ot(et,st,!1,rt,null,null),ct=lt.exports,ut=i("ABCa"),dt=i("KRg4"),ht=(dt.a,Boolean,String,String,String,Array,Boolean,String,String,Boolean,{name:"search",mixins:[dt.a],props:{required:{type:Boolean,default:!1},placeholder:String,cancelText:String,value:{type:String,default:""},results:{type:Array,default:function(){return[]}},autoFixed:{type:Boolean,default:!0},top:{type:String,default:"0px"},position:{type:String,default:"fixed"},autoScrollToTop:Boolean},created:function(){this.value&&(this.currentValue=this.value)},computed:{fixPosition:function(){return this.isFixed?"absolute"===this.position?"absolute":"fixed":"static"}},methods:{emitEvent:function(){var t=this;this.$nextTick(function(){t.$emit("input",t.currentValue),t.$emit("on-change",t.currentValue)})},onComposition:function(t,e){"start"===e&&(this.onInput=!0),"end"===e&&(this.onInput=!1,this.emitEvent()),"input"===e&&(this.onInput||this.emitEvent())},clear:function(){this.currentValue="",this.emitEvent(),this.isFocus=!0,this.setFocus(),this.autoFixed&&!this.isFixed&&(this.isFixed=!0),this.$emit("on-clear")},cancel:function(){this.isCancel=!0,this.currentValue="",this.emitEvent(),this.isFixed=!1,this.$emit("on-cancel")},handleResultClick:function(t){this.$emit("result-click",t),this.$emit("on-result-click",t),this.isCancel=!0,this.isFixed=!1},touch:function(){this.isCancel=!1,this.autoFixed&&(this.isFixed=!0),this.$emit("on-touch")},setFocus:function(){this.$refs.input.focus()},setBlur:function(){this.$refs.input.blur()},onFocus:function(){this.isFocus=!0,this.$emit("on-focus"),this.touch()},onBlur:function(){this.isFocus=!1,this.$emit("on-blur")}},data:function(){return{onInput:!1,currentValue:"",isCancel:!0,isFocus:!1,isFixed:!1}},watch:{isFixed:function(t){!0===t&&(this.setFocus(),this.isFocus=!0,this.autoScrollToTop&&setTimeout(function(){window.scrollTo(0,0)},150))},value:function(t){this.currentValue=t}}}),mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-search-box",class:{"vux-search-fixed":t.isFixed},style:{top:t.isFixed?t.top:"",position:t.fixPosition}},[i("div",{staticClass:"weui-search-bar",class:{"weui-search-bar_focusing":!t.isCancel||t.currentValue}},[t._t("left"),t._v(" "),i("form",{staticClass:"weui-search-bar__form",attrs:{action:"."},on:{submit:function(e){return e.preventDefault(),t.$emit("on-submit",t.value)}}},[i("label",{directives:[{name:"show",rawName:"v-show",value:!t.isFixed&&t.autoFixed,expression:"!isFixed && autoFixed"}],staticClass:"vux-search-mask",attrs:{for:"search_input_"+t.uuid},on:{click:t.touch}}),t._v(" "),i("div",{staticClass:"weui-search-bar__box"},[i("i",{staticClass:"weui-icon-search"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-search-bar__input",attrs:{type:"search",autocomplete:"off",id:"search_input_"+t.uuid,placeholder:t.placeholder,required:t.required},domProps:{value:t.currentValue},on:{focus:t.onFocus,blur:t.onBlur,compositionstart:function(e){return t.onComposition(e,"start")},compositionend:function(e){return t.onComposition(e,"end")},input:[function(e){e.target.composing||(t.currentValue=e.target.value)},function(e){return t.onComposition(e,"input")}]}}),t._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-icon-clear",attrs:{href:"javascript:"},on:{click:t.clear}})]),t._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:!t.isFocus&&!t.value,expression:"!isFocus && !value"}],staticClass:"weui-search-bar__label",attrs:{for:"search_input_"+t.uuid}},[i("i",{staticClass:"weui-icon-search"}),t._v(" "),i("span",[t._v(t._s(t.placeholder||"搜索"))])])]),t._v(" "),i("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:"},on:{click:t.cancel}},[t._v(t._s(t.cancelText||"取消")+"\n    ")]),t._v(" "),t._t("right")],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isFixed,expression:"isFixed"}],staticClass:"weui-cells vux-search_show"},[t._t("default"),t._v(" "),t._l(t.results,function(e){return i("div",{staticClass:"weui-cell weui-cell_access",on:{click:function(i){return t.handleResultClick(e)}}},[i("div",{staticClass:"weui-cell__bd weui-cell_primary"},[i("p",[t._v(t._s(e.title))])])])})],2)])},ft=[],pt={render:mt,staticRenderFns:ft},vt=pt,gt=i("VU/8"),_t=o,xt=gt(ht,vt,!1,_t,null,null),wt=xt.exports,bt=(String,String,String,String,String,Number,Array,Object,Number,Boolean,{name:"checker",props:{defaultItemClass:String,selectedItemClass:String,disabledItemClass:String,type:{type:String,default:"radio"},value:[String,Number,Array,Object],max:Number,radioRequired:Boolean},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t),this.$emit("on-change",t)}},data:function(){return{currentValue:this.value}}}),yt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-checker-box"},[t._t("default")],2)},Ct=[],St={render:yt,staticRenderFns:Ct},kt=St,$t=i("VU/8"),Vt=r,Bt=$t(bt,kt,!1,Vt,null,null),Tt=Bt.exports,It=i("pFYg"),Ft=i.n(It),Rt=(String,Number,Object,Boolean,{name:"checker-item",props:{value:{type:[String,Number,Object],required:!0},disabled:Boolean},watch:{disabled:function(t){t&&"radio"===this.$parent.type&&this.value===this.$parent.currentValue&&(this.$parent.currentValue="")}},computed:{classNames:function(){var t=this,e="string"==typeof this.value||"number"==typeof this.value,i={"vux-tap-active":!this.disabled};if(this.$parent.defaultItemClass&&(i[this.$parent.defaultItemClass]=!0),this.$parent.selectedItemClass){var n=!1;if("radio"===this.$parent.type)e&&this.$parent.currentValue===this.value?n=!0:"object"===Ft()(this.value)&&c(this.$parent.currentValue,this.value)&&(n=!0);else if("string"==typeof this.value)this.$parent.currentValue.indexOf(this.value)>-1&&(n=!0);else if(this.$parent.currentValue&&this.$parent.currentValue.length){var a=this.$parent.currentValue.filter(function(e){return c(e,t.value)});n=a.length>0}i[this.$parent.selectedItemClass]=n}return this.$parent.disabledItemClass&&(i[this.$parent.disabledItemClass]=this.disabled),i}},methods:{select:function(){"radio"===this.$parent.type?this.selectRadio():this.selectCheckbox()},selectRadio:function(){this.disabled||(this.$parent.currentValue===this.value?this.$parent.radioRequired||(this.$parent.currentValue=""):this.$parent.currentValue=this.value),this.$emit("on-item-click",this.value,this.disabled)},selectCheckbox:function(){this.$parent.currentValue&&null!==this.$parent.currentValue||(this.$parent.currentValue=[]);var t="string"==typeof this.value||"number"==typeof this.value;if(!this.disabled){var e=-1;e=t?this.$parent.currentValue.indexOf(this.value):this.$parent.currentValue.map(function(t){return tt()(t)}).indexOf(tt()(this.value)),e>-1?this.$parent.currentValue.splice(e,1):(!this.$parent.max||this.$parent.max&&null!==this.$parent.currentValue&&this.$parent.currentValue.length<this.$parent.max)&&(this.$parent.currentValue&&this.$parent.currentValue.length||(this.$parent.currentValue=[]),this.$parent.currentValue.push(this.value))}this.$emit("on-item-click",this.value,this.disabled)}}}),Nt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-checker-item",class:t.classNames,on:{click:t.select}},[t._t("default")],2)},jt=[],Dt={render:Nt,staticRenderFns:jt},Ot=Dt,At=i("VU/8"),Lt=u,Mt=At(Rt,Ot,!1,Lt,null,null),Ht=Mt.exports,Ut={name:"divider"},Et=function(){var t=this,e=t.$createElement;return(t._self._c||e)("p",{staticClass:"vux-divider"},[t._t("default")],2)},Pt=[],Wt={render:Et,staticRenderFns:Pt},qt=Wt,zt=i("VU/8"),Yt=d,Xt=zt(Ut,qt,!1,Yt,null,null),Gt=Xt.exports,Jt=(Object,{name:"DeviceItem",props:{device:Object}}),Qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{staticClass:"weui-media-box weui-media-box_appmsg",attrs:{to:"/device-view/"+t.device.id}},[t.device.images?i("div",{staticClass:"weui-media-box__hd"},[i("img",{staticClass:"weui-media-box__thumb",attrs:{src:t.device.images,alt:""}})]):t._e(),t._v(" "),i("div",{staticClass:"weui-media-box__bd"},[i("h4",{staticClass:"weui-media-box__title",domProps:{innerHTML:t._s(t.device.name)}}),t._v(" "),i("p",{staticClass:"weui-media-box__desc",domProps:{innerHTML:t._s(t.device.description)}})])])},Zt=[],Kt={render:Qt,staticRenderFns:Zt},te=Kt,ee=i("VU/8"),ie=ee(Jt,te,!1,null,null,null),ne=ie.exports,ae=(ut.a,{components:{XHeader:ut.a,Search:wt,ViewBox:ct,DeviceItem:ne,Checker:Tt,CheckerItem:Ht,Divider:Gt},mounted:function(){this.getData();var t=this;this.axios.get(H.a.filters).then(function(e){console.log(e.data.data),t.filters=e.data.data,t.categorys=e.data.data.categorys.values,t.statusList=e.data.data.status.values}).catch(function(t){console.log(t)}).finally(),this.$store.commit("setSelected","详细信息")},data:function(){return{allDevices:[],devices:[],searchText:"",isScreenShow:!1,filters:{},category:"",categorys:[],statusList:[],status:"",searchCondition:[]}},methods:{formatDevice:function(t){return{title:t.name,desc:t.description,src:t.images}},resultClick:function(t){window.alert("you click the result item: "+tt()(t)),this.getData()},getResult:function(t){console.log("on-change",this.searchText)},getData:function(){var t=this,e=this,i=H.a.devices;i+="?category="+e.category,i+="&status="+e.status,e.searchText&&(i+="&keyword="+e.searchText),console.log(i),this.axios.get(i).then(function(e){console.log(e.data.data),t.devices=e.data.data,t.allDevices=e.data.data}).catch(function(t){console.log(t)}).finally()},onSubmit:function(){console.log("on-submit",this.searchText),this.getData()},onFocus:function(){console.log("on focus")},onCancel:function(){console.log("on cancel"),this.devices=this.allDevices},clickScreen:function(){this.isScreenShow=!0},clickTime:function(){},endScreen:function(){this.isScreenShow=!1,this.getData()}},watch:{isScreenShow:function(t,e){console.log(t,"isScreenShow",e)}}}),se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("x-header",{attrs:{"left-options":{showBack:!1}}},[t._v("设备列表")]),t._v(" "),i("search",{ref:"search",attrs:{position:"absolute",top:"46px","auto-fixed":!1},on:{"result-click":t.resultClick,"on-change":t.getResult,"on-focus":t.onFocus,"on-cancel":t.onCancel,"on-submit":t.onSubmit},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),t._v(" "),i("div",{staticStyle:{padding:"10px",height:"15px","border-bottom":"solid 1px #efeff4"}},[i("div",{staticClass:"weui-media-box__desc",staticStyle:{float:"right"},on:{click:t.clickScreen}},[t._v("筛选")])]),t._v(" "),t.isScreenShow?i("div",{attrs:{id:"screenBg"}}):t._e(),t._v(" "),t.filters.categorys&&t.isScreenShow?i("div",{attrs:{id:"screen"}},[i("divider",{staticStyle:{padding:"15px"}},[t._v(t._s(t.filters.categorys.name))]),t._v(" "),i("div",{staticClass:"box"},[i("checker",{attrs:{"default-item-class":"demo1-item","selected-item-class":"demo1-item-selected"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},t._l(t.categorys,function(e,n){return i("checker-item",{key:n,attrs:{value:n}},[t._v(t._s(e))])}),1)],1),t._v(" "),i("divider",{staticStyle:{padding:"15px"}},[t._v(t._s(t.filters.status.name))]),t._v(" "),i("div",{staticClass:"box"},[i("checker",{attrs:{"default-item-class":"demo1-item","selected-item-class":"demo1-item-selected"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.statusList,function(e,n){return i("checker-item",{key:n,attrs:{value:n}},[t._v(t._s(e))])}),1)],1),t._v(" "),i("div",{staticStyle:{"line-height":"50px","border-top":"1px"}},[i("div",{staticClass:"weui-form-preview__btn",on:{click:t.endScreen}},[t._v("确定")])])],1):t._e(),t._v(" "),i("view-box",{ref:"viewBox"},t._l(t.devices,function(t){return i("device-item",{key:t.id+"device",attrs:{device:t}})}),1)],1)},oe=[],re={render:se,staticRenderFns:oe},le=re,ce=i("VU/8"),ue=h,de=ce(ae,le,!1,ue,"data-v-862051aa",null),he=de.exports,me=i("0FxO"),fe=(Object,Object,{name:"card",props:{header:Object,footer:Object},methods:{onClickFooter:function(){this.footer.link&&Object(me.a)(this.footer.link,this.$router),this.$emit("on-click-footer")}}}),pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weui-panel weui-panel_access"},[t.header&&t.header.title?i("div",{staticClass:"weui-panel__hd",domProps:{innerHTML:t._s(t.header.title)},on:{click:function(e){return t.$emit("on-click-header")}}}):t._e(),t._v(" "),t._t("header"),t._v(" "),i("div",{staticClass:"weui-panel__bd"},[i("div",{staticClass:"vux-card-content"},[t._t("content")],2)]),t._v(" "),i("div",{staticClass:"weui-panel__ft"},[t.footer&&t.footer.title?i("a",{staticClass:"weui-cell weui-cell_access weui-cell_link",attrs:{href:"javascript:"},on:{click:t.onClickFooter}},[i("div",{staticClass:"weui-cell__bd",domProps:{innerHTML:t._s(t.footer.title)}})]):t._e()]),t._v(" "),t._t("footer")],2)},ve=[],ge={render:pe,staticRenderFns:ve},_e=ge,xe=i("VU/8"),we=m,be=xe(fe,_e,!1,we,null,null),ye=be.exports,Ce=i("piuB"),Se=(Ce.b,Number,String,String,String,String,Boolean,Function,String,Boolean,Number,String,{name:"tab",mixins:[Ce.b],mounted:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.hasReady=!0},0)})},props:{lineWidth:{type:Number,default:3},activeColor:String,barActiveColor:String,defaultColor:String,disabledColor:String,animate:{type:Boolean,default:!0},customBarWidth:[Function,String],preventDefault:Boolean,scrollThreshold:{type:Number,default:4},barPosition:{type:String,default:"bottom",validator:function(t){return-1!==["bottom","top"].indexOf(t)}}},computed:{barLeft:function(){if(this.hasReady){var t=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return this.currentIndex*(100/t)+"%"}},barRight:function(){if(this.hasReady){var t=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return(t-this.currentIndex-1)*(100/t)+"%"}},innerBarStyle:function(){return{width:"function"==typeof this.customBarWidth?this.customBarWidth(this.currentIndex):this.customBarWidth,backgroundColor:this.barActiveColor||this.activeColor}},barStyle:function(){var t={left:this.barLeft,right:this.barRight,display:"block",height:this.lineWidth+"px",transition:this.hasReady?null:"none"};return this.customBarWidth?t.backgroundColor="transparent":t.backgroundColor=this.barActiveColor||this.activeColor,t},barClass:function(){return{"vux-tab-ink-bar-transition-forward":"forward"===this.direction,"vux-tab-ink-bar-transition-backward":"backward"===this.direction}},scrollable:function(){return this.number>this.scrollThreshold}},watch:{currentIndex:function(t,e){this.direction=t>e?"forward":"backward",this.$emit("on-index-change",t,e),this.hasReady&&this.scrollToActiveTab()}},data:function(){return{direction:"forward",right:"100%",hasReady:!1}},methods:{scrollToActiveTab:function(){var t=this;if(this.scrollable&&this.$children&&this.$children.length){var e=this.$children[this.currentIndex].$el,i=0,n=function n(){var a=t.$refs.nav;a.scrollLeft+=(e.offsetLeft-(a.offsetWidth-e.offsetWidth)/2-a.scrollLeft)/15,++i<15&&window.requestAnimationFrame(n)};window.requestAnimationFrame(n)}}}}),ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-tab-wrap",class:"top"===t.barPosition?"vux-tab-bar-top":""},[i("div",{staticClass:"vux-tab-container"},[i("div",{ref:"nav",staticClass:"vux-tab",class:[{"vux-tab-no-animate":!t.animate},{scrollable:t.scrollable}]},[t._t("default"),t._v(" "),t.animate?i("div",{staticClass:"vux-tab-ink-bar",class:t.barClass,style:t.barStyle},[t.customBarWidth?i("span",{staticClass:"vux-tab-bar-inner",style:t.innerBarStyle}):t._e()]):t._e()],2)])])},$e=[],Ve={render:ke,staticRenderFns:$e},Be=Ve,Te=i("VU/8"),Ie=f,Fe=Te(Se,Be,!1,Ie,null,null),Re=Fe.exports,Ne=(Ce.a,String,Boolean,String,String,String,{name:"tab-item",mixins:[Ce.a],props:{activeClass:String,disabled:Boolean,badgeBackground:{type:String,default:"#f74c31"},badgeColor:{type:String,default:"#fff"},badgeLabel:String},computed:{style:function(){return{borderWidth:this.$parent.lineWidth+"px",borderColor:this.$parent.activeColor,color:this.currentSelected?this.$parent.activeColor:this.disabled?this.$parent.disabledColor:this.$parent.defaultColor,border:this.$parent.animate?"none":"auto"}}}}),je=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-tab-item",class:[t.currentSelected?t.activeClass:"",{"vux-tab-selected":t.currentSelected,"vux-tab-disabled":t.disabled}],style:t.style,on:{click:t.onItemClick}},[t._t("default"),t._v(" "),void 0!==t.badgeLabel&&""!==t.badgeLabel?i("span",{staticClass:"vux-tab-item-badge",style:{background:t.badgeBackground,color:t.badgeColor}},[t._v("\n  "+t._s(t.badgeLabel))]):t._e()],2)},De=[],Oe={render:je,staticRenderFns:De},Ae=Oe,Le=i("VU/8"),Me=Le(Ne,Ae,!1,null,null,null),He=Me.exports,Ue=i("fBcm"),Ee=i("b+jt"),Pe=i("YxJB"),We=i("3Lt7"),qe=function(){return["详情信息","维修记录","维护记录"]},ze=(Ue.a,Ee.a,ut.a,Pe.a,We.a,function(){return["详情信息","维修记录","维护记录"]}),Ye={name:"device-view",components:{Card:ye,Tab:Re,TabItem:He,Swiper:Ue.a,SwiperItem:Ee.a,XHeader:ut.a,Flexbox:Pe.a,FlexboxItem:We.a,DeviceInfo:function(){return i.e(2).then(i.bind(null,"SqFc"))},MaintainList:function(){return i.e(0).then(i.bind(null,"Cmgm"))},RepairList:function(){return i.e(1).then(i.bind(null,"lISs"))}},data:function(){return{index:0,index01:0,selected:"详细信息",list:ze(),getBarWidth:function(t){return 22*(t+1)+"px"},device:null,errored:!1,loading:!1,fullHeight:(document.documentElement.clientHeight-.4*document.documentElement.clientWidth-90)/document.documentElement.clientWidth}},created:function(){console.log("this.$store.state.selected :",this.$store.state.selected),this.selected=this.$store.state.selected},mounted:function(){var t=this;this.axios.get(H.a.detail+this.$route.params.id).then(function(e){t.device=e.data.data}).catch(function(e){console.log(e),t.errored=!0}).finally()},watch:{fullHeight:function(t){if(!this.timer){this.fullHeight=t,this.timer=!0;var e=this;setTimeout(function(){e.timer=!1},400)}}},methods:{switchTabItem:function(t){var e=this;console.log("on-before-index-change",t),this.$vux.loading.show({text:"loading"}),setTimeout(function(){e.$vux.loading.hide(),e.index01=t},1e3)},onItemClick:function(t){this.$store.commit("setSelected",ze()[t])},addTab:function(){this.list.length<5&&(this.list=ze().slice(0,this.list.length+1))},removeTab:function(){this.list.length>1&&(this.list=ze().slice(0,this.list.length-1))},next:function(){this.index===this.list.length-1?this.index=0:++this.index},prev:function(){0===this.index?this.index=this.list.length-1:--this.index}}},Xe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("x-header",[t._v("设备管理")]),t._v(" "),i("flexbox",{attrs:{gutter:0}},[i("flexbox-item",[i("div",{staticClass:"placeholder device-detail-info-bg"},[i("div",{staticClass:"weui-panel__bd device-detail-info"},[null!==t.device?i("div",{staticClass:"weui-media-box weui-media-box_text"},[i("h2",{staticClass:"weui-media-box__title"},[t._v(t._s(t.device.name))]),t._v(" "),i("p",{staticClass:"weui-media-box__desc"},[t._v(t._s("类型："+t.device.category_name))]),t._v(" "),i("p",{staticClass:"weui-media-box__desc"},[t._v(t._s("出厂时间："+t.device.product_at_format))])]):t._e()])])]),t._v(" "),i("flexbox-item",[i("div",{staticClass:"placeholder"},[i("div",{attrs:{id:"img-bg"}},[null!==t.device?i("img",{attrs:{slot:"header",src:t.device.images},slot:"header"}):t._e()])])])],1),t._v(" "),i("div",[i("tab",{attrs:{"line-width":2,"active-color":"#fc378c"},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.list,function(e,n){return i("tab-item",{key:n,staticClass:"vux-center",attrs:{selected:t.selected===e},on:{"on-item-click":t.onItemClick}},[t._v(t._s(e))])}),1),t._v(" "),i("swiper",{ref:"swiper-wrapper",attrs:{"aspect-ratio":t.fullHeight,"show-dots":!1,id:"swiper-container"},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},[i("swiper-item",[null!==t.device&&null!==t.device.user?i("device-info",{staticClass:"device-detail-tab-item",attrs:{device:t.device}}):t._e()],1),t._v(" "),i("swiper-item",[null!==t.device&&null!==t.device.user?i("repair-list",{staticClass:"device-detail-tab-item",attrs:{device:t.device}}):t._e()],1),t._v(" "),i("swiper-item",[null!==t.device&&null!==t.device.user?i("maintain-list",{staticClass:"device-detail-tab-item",attrs:{device_id:t.device.id}}):t._e()],1)],1)],1)],1)},Ge=[],Je={render:Xe,staticRenderFns:Ge},Qe=Je,Ze=i("VU/8"),Ke=p,ti=Ze(Ye,Qe,!1,Ke,"data-v-15d43252",null),ei=ti.exports,ii=i("oWtu"),ni=(ii.a,Boolean,String,{name:"check-icon",components:{Icon:ii.a},methods:{updateValue:function(){this.$emit("update:value",!this.value)}},props:{value:{type:Boolean,default:!1},type:{type:String,default:"default"}}}),ai=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-check-icon",on:{click:t.updateValue}},[i("icon",{directives:[{name:"show",rawName:"v-show",value:"default"===t.type&&t.value,expression:"type === 'default' && value"}],attrs:{type:"success"}}),t._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:"plain"===t.type&&t.value,expression:"type === 'plain' && value"}],attrs:{type:"success_circle"}}),t._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:!t.value,expression:"!value"}],attrs:{type:"circle"}}),t._v(" "),i("span",[t._t("default")],2)],1)},si=[],oi={render:ai,staticRenderFns:si},ri=oi,li=i("VU/8"),ci=v,ui=li(ni,ri,!1,ci,null,null),di=ui.exports,hi={name:"group-title"},mi=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"weui-cells__title"},[t._t("default")],2)},fi=[],pi={render:mi,staticRenderFns:fi},vi=pi,gi=i("VU/8"),_i=g,xi=gi(hi,vi,!1,_i,null,null),wi=xi.exports,bi=(ut.a,Ue.a,Ee.a,[{url:"javascript:",img:"https://ww1.sinaimg.cn/large/663d3650gy1fq66vvsr72j20p00gogo2.jpg"}]),yi={name:"DeviceMaintainDetail",components:{XHeader:ut.a,Swiper:Ue.a,SwiperItem:Ee.a,CheckIcon:di,GroupTitle:wi,ViewBox:ct},methods:{demo01_onIndexChange:function(t){this.demo01_index=t}},data:function(){return{demo01_index:0,demo01_list:Ci,items:[{id:1,title:"清洁键盘",worker:"韩冲",time:"2019/02/20",state:!0},{id:2,title:"清洁鼠标",worker:"韩冲1",time:"2019/02/21",state:!1}]}}},Ci=[{url:"javascript:",img:"https://ww1.sinaimg.cn/large/663d3650gy1fq66vvsr72j20p00gogo2.jpg"}],Si=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("x-header",[t._v("维护记录详情")]),t._v(" "),i("swiper",{attrs:{list:t.demo01_list},on:{"on-index-change":t.demo01_onIndexChange},model:{value:t.demo01_index,callback:function(e){t.demo01_index=e},expression:"demo01_index"}}),t._v(" "),i("GroupTitle",[t._v("维护项目")]),t._v(" "),i("view-box",{ref:"viewBox"},t._l(t.items,function(e){return i("div",{key:e.id+"item",staticClass:"weui-media-box weui-media-box_appmsg"},[i("div",{staticClass:"placeholder weui-media-box__bd"},[i("div",{staticClass:"weui-media-box__title",staticStyle:{color:"#333"}},[t._v("\n          "+t._s(e.title)+"\n        ")]),t._v(" "),i("div",{staticClass:"weui-media-box__desc",staticStyle:{"margin-top":"5px"}},[i("a",[t._v("处理人："+t._s(e.worker))]),t._v(" "),i("a",{staticStyle:{position:"absolute",left:"40%"}},[t._v("时间："+t._s(e.time))])])]),t._v(" "),i("div",{staticStyle:{width:"20px"}},[i("check-icon",{attrs:{value:e.state}})],1)])}),0)],1)},ki=[],$i={render:Si,staticRenderFns:ki},Vi=$i,Bi=i("VU/8"),Ti=_,Ii=Bi(yi,Vi,!1,Ti,"data-v-57ce97ed",null),Fi=Ii.exports,Ri=i("e66H"),Ni=i("63CM"),ji=i("62KO"),Di=i("2sLL"),Oi=i("0xDb"),Ai=(Ni.a,ut.a,Ue.a,Ee.a,Ri.a,ji.a,Di.a,Pe.a,We.a,{name:"DeviceRepairDetail",directives:{TransferDom:Ni.a},components:{XHeader:ut.a,Swiper:Ue.a,SwiperItem:Ee.a,Rater:Ri.a,ViewBox:ct,Confirm:ji.a,XButton:Di.a,Flexbox:Pe.a,FlexboxItem:We.a},mounted:function(){var t=this;this.repair_id=window.location.href.split("/repair-detail/")[1];var e=this;this.axios.get(H.a.repairDetail+this.repair_id).then(function(i){console.log(i.data),e.repair=i.data.data,e.reportinfo=t.repair,e.repairinfo=t.repair.repair,e.reporter=t.repair.user,e.assignee&&(e.assignee=e.repair.assigneeinfo),t.repairinfo&&e.repairinfo.score&&(e.score=e.repairinfo.score),e.stars=e.score.score;for(var n=0;n<e.reportinfo.image_list.length;n++){var a={};a.url="javascript:",a.img=e.reportinfo.image_list[n],e.demo01_list.push(a)}}).catch(function(t){console.log(t)}).finally(),this.axios.get(H.a.repairComment+"object_id="+this.repair_id+"&object_type=1").then(function(t){console.log(t.data.data),e.comments=t.data.data}).catch(function(t){console.log(t)}).finally()},data:function(){return{repair_id:"",demo01_index:0,demo01_list:[],repair:{},rater_disabled:!1,stars:4,comments:[],showAddComment:!1,default_image:"http://lams-1257122319.cos.ap-beijing.myqcloud.com/20190301b0fbbde3f298a051cb5d464c54b018be",reporter:{},assignee:{},reportinfo:{},repairinfo:{},score:{},imgarrow:"",error_msg:"",confirm:!1}},methods:{demo01_onIndexChange:function(t){this.demo01_index=t},onSwiperItemIndexChange:function(t){console.log("demo item change",t)},clickAddComment:function(){this.showAddComment=!0},onHide:function(){console.log("on hide")},onShow:function(){this.$refs.confirmComment.setInputValue("")},onCancel:function(){},onConfirmComment:function(t){this.sendComment(t),this.$refs.confirmComment.setInputValue("")},onConfirm:function(t){this.confirm=!1},showConfirm:function(){var t=this;this.confirm=!0,setTimeout(function(){t.confirm=!1,t.showAddComment=!0},3e3)},sendComment:function(t){var e=this;if(""===t)return this.error_msg="评论内容不能为空",void this.showConfirm();var i=H.a.addcomment,n=new FormData,a=window.localStorage.getItem("token");n.append("token",a),n.append("id",this.repair_id),n.append("type",1),n.append("content",t),e.axios.post(i,n).then(function(t){200===t.data.code?e.comments.unshift(t.data.data):5009===t.data.code?Oi.a.deletaUserData():(e.error_msg=t.data.code+":"+t.data.message,e.showConfirm())}).catch(function(t){console.log(t)}).finally()}}}),Li=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("x-header",[t._v("维修记录详情")]),t._v(" "),t.demo01_list.length>0?i("swiper",{attrs:{auto:"",list:t.demo01_list},on:{"on-index-change":t.demo01_onIndexChange},model:{value:t.demo01_index,callback:function(e){t.demo01_index=e},expression:"demo01_index"}}):t._e(),t._v(" "),i("flexbox",{attrs:{gutter:0}},[i("flexbox-item",{attrs:{span:5/12}},[i("div",{staticClass:"placeholder weui-media-box weui-media-box_appmsg"},[i("div",{staticClass:"weui-media-box__hd"},[t.reporter.image?i("img",{staticClass:"weui-media-box__thumb",staticStyle:{"vertical-align":"middle"},attrs:{src:t.reporter.image,alt:""}}):i("i",{staticClass:"weui-media-box__thum weui_icon_circle",staticStyle:{"vertical-align":"middle"}})]),t._v(" "),i("div",{staticClass:"weui-media-box__bd"},[t.reporter?i("h4",{staticClass:"weui-media-box__title",domProps:{innerHTML:t._s(t.reporter.user_nick)}}):t._e(),t._v(" "),i("p",{staticClass:"weui-media-box__desc",domProps:{innerHTML:t._s(t.reportinfo.created_at_format)}})])])]),t._v(" "),i("flexbox-item",{attrs:{span:1/6}}),t._v(" "),t.assignee?i("flexbox-item",{attrs:{span:5/12}},[i("div",{staticClass:"weui-flex__item"},[i("div",{staticClass:"placeholder weui-media-box weui-media-box_appmsg"},[t.assignee?i("div",{staticClass:"weui-media-box__bd",staticStyle:{"text-align":"right"}},[i("h4",{staticClass:"weui-media-box__title",domProps:{innerHTML:t._s(t.assignee.user_nick)}}),t._v(" "),i("p",{staticClass:"weui-media-box__desc",domProps:{innerHTML:t._s(t.repairinfo.created_at_format)}})]):t._e(),t._v(" "),i("div",{staticClass:"weui-media-box__hd",staticStyle:{"margin-right":"0px","margin-left":".8em"}},[t.assignee.image?i("img",{staticClass:"weui-media-box__thumb",staticStyle:{"vertical-align":"middle"},attrs:{src:t.assignee.image,alt:""}}):i("i",{staticClass:"weui-media-box__thum weui_icon_circle",staticStyle:{"vertical-align":"middle"}})])])])]):i("flexbox-item",{attrs:{span:5/12}},[0==t.reportinfo.status?i("x-button",{staticClass:"accept-report",attrs:{mini:"",type:"primary"}},[t._v("接取")]):t._e()],1)],1),t._v(" "),i("article",{staticClass:"weui-article",staticStyle:{"padding-top":"0px","padding-bottom":"0px"}},[i("p",{staticStyle:{color:"#999999"}},[t._v("\n      "+t._s(this.reportinfo.description)+"\n    ")])]),t._v(" "),i("div",{staticStyle:{"padding-left":"15px","padding-right":"15px","vertical-align":"middle"}},[i("a",{staticClass:"device-repair-status",class:{textRed:0==this.reportinfo.status,textOrange:1==this.reportinfo.status,textBlue:2==this.reportinfo.status,textGreen:3==this.reportinfo.status}},[t._v("\n       "+t._s(this.reportinfo.status_name)+" \n    ")]),t._v(" "),3==this.reportinfo.status?i("rater",{staticStyle:{float:"right"},attrs:{disabled:t.rater_disabled,"font-size":15},model:{value:t.stars,callback:function(e){t.stars=e},expression:"stars"}}):t._e()],1),t._v(" "),i("view-box",{ref:"viewBox"},t._l(t.comments,function(e){return i("div",{key:e.id+"comment",staticClass:"weui-media-box weui-media-box_appmsg"},[e.user.image?i("div",{staticClass:"weui-media-box__hd"},[i("img",{staticClass:"weui-media-box__thumb",staticStyle:{"vertical-align":"middle"},attrs:{src:e.user.image,alt:""}})]):t._e(),t._v(" "),i("div",{staticClass:"weui-media-box__bd"},[i("flexbox",{attrs:{gutter:0}},[i("flexbox-item",{attrs:{span:.5}},[i("h4",{staticClass:"weui-media-box__title",domProps:{innerHTML:t._s(e.user.user_nick)}})]),t._v(" "),i("flexbox-item",{attrs:{span:.5}},[i("p",{staticClass:"weui-media-box__desc"},[t._v(t._s(e.created_at_format))])])],1),t._v(" "),i("p",{staticClass:"weui-media-box__desc",domProps:{innerHTML:t._s(e.content)}})],1)])}),0),t._v(" "),i("button",{attrs:{id:"add-comment"},on:{click:t.clickAddComment}},[t._v("评论")]),t._v(" "),i("br"),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],staticStyle:{left:"50%"}},[i("confirm",{ref:"confirmComment",attrs:{"show-input":"",title:"发送评论"},on:{"on-cancel":t.onCancel,"on-confirm":t.onConfirmComment,"on-show":t.onShow,"on-hide":t.onHide},model:{value:t.showAddComment,callback:function(e){t.showAddComment=e},expression:"showAddComment"}}),t._v(" "),i("confirm",{attrs:{"close-on-confirm":!1,title:t.$t("提示"),"show-cancel-button":!1},on:{"on-confirm":t.onConfirm},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[i("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(this.error_msg))])])],1)],1)},Mi=[],Hi={render:Li,staticRenderFns:Mi},Ui=Hi,Ei=i("VU/8"),Pi=x,Wi=Ei(Ai,Ui,!1,Pi,"data-v-9f24e91e",null),qi=Wi.exports,zi=i("qMt5"),Yi={name:"Redirect",mounted:function(){var t=/code=(.+[^&])&?/i,e=t.exec(window.location.href);e&&(this.code=e[1]);var i=new FormData;i.append("code",this.code),this.axios.post(H.a.userauth,i).then(function(t){window.localStorage.setItem("token",t.data.token),window.localStorage.setItem("user",t.data.user),window.location.href="http://device.olfu.xyz/"}).catch(function(t){console.log(t)}).finally()},data:function(){return{code:{}}}},Xi=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},Gi=[],Ji={render:Xi,staticRenderFns:Gi},Qi=Ji,Zi=i("VU/8"),Ki=w,tn=Zi(Yi,Qi,!1,Ki,"data-v-2115a4b0",null),en=tn.exports,nn=i("rHil"),an=i("kbG3"),sn=i("wmxo"),on=(an.a,String,Boolean,Boolean,String,Number,String,Boolean,Number,Boolean,Array,{name:"x-switch",components:{InlineDesc:an.a},computed:{labelStyle:function(){var t=/<\/?[^>]*>/.test(this.title),e=Math.min(t?5:this.title.length+1,14)+"em";return Object(sn.a)({display:"block",width:this.$parent.labelWidth||e,textAlign:this.$parent.labelAlign})},labelClass:function(){return{"vux-cell-justify":this.$parent&&"justify"===this.$parent.labelAlign}}},methods:{onClick:function(){this.$emit("on-click",!this.currentValue,this.currentValue)},toBoolean:function(t){if(this.valueMap){return 1===this.valueMap.indexOf(t)}return t},toRaw:function(t){return this.valueMap?this.valueMap[t?1:0]:t}},props:{title:{type:String,required:!0},disabled:Boolean,value:{type:[Boolean,String,Number],default:!1},inlineDesc:[String,Boolean,Number],preventDefault:Boolean,valueMap:{type:Array,default:function(){return[!1,!0]}}},data:function(){return{currentValue:this.toBoolean(this.value)}},watch:{currentValue:function(t){var e=this.toRaw(t);this.$emit("input",e),this.$emit("on-change",e)},value:function(t){this.currentValue=this.toBoolean(t)}}}),rn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-x-switch weui-cell weui-cell_switch"},[i("div",{staticClass:"weui-cell__bd"},[i("label",{staticClass:"weui-label",class:t.labelClass,style:t.labelStyle,domProps:{innerHTML:t._s(t.title)}}),t._v(" "),t.inlineDesc?i("inline-desc",[t._v(t._s(t.inlineDesc))]):t._e()],1),t._v(" "),i("div",{staticClass:"weui-cell__ft"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-switch",attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:Array.isArray(t.currentValue)?t._i(t.currentValue,null)>-1:t.currentValue},on:{change:function(e){var i=t.currentValue,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.currentValue=i.concat([null])):s>-1&&(t.currentValue=i.slice(0,s).concat(i.slice(s+1)))}else t.currentValue=a}}}),t._v(" "),t.preventDefault?i("div",{staticClass:"vux-x-switch-overlay",on:{click:t.onClick}}):t._e()])])},ln=[],cn={render:rn,staticRenderFns:ln},un=cn,dn=i("VU/8"),hn=b,mn=dn(on,un,!1,hn,null,null),fn=mn.exports,pn=(Ni.a,ji.a,nn.a,{name:"device-scan",directives:{TransferDom:Ni.a},components:{Confirm:ji.a,Group:nn.a,XSwitch:fn},mounted:function(){var t=this;this.$store.state.configFlag?this.checkJsApi():(this.$vux.loading.show({transition:"",text:"..."}),this.initWxConfig()),this.$wechat.ready(function(){t.$store.commit("setConfigFlag"),t.startScanQRCode(),t.$vux.loading.hide()}),this.$wechat.error(function(t){console.log("$wechat config error")})},beforeDestroy:function(){clearInterval(this.timer)},methods:{initWxConfig:function(){var t=this;this.axios.get(H.a.jssign+"?url=http://device.olfu.xyz/device-scan").then(function(e){console.log("getJssign Api",e.data),t.wx_config_data.time_stamp=e.data.data.timestamp,t.wx_config_data.noncestr=e.data.data.nonce_str,t.wx_config_data.signature=e.data.data.signature,t.$wechat.config({beta:!0,debug:!1,appId:"wwa417d520fd30a759",timestamp:t.wx_config_data.time_stamp,nonceStr:t.wx_config_data.noncestr,signature:t.wx_config_data.signature,jsApiList:["scanQRCode"]})})},startScanQRCode:function(){var t=this;t.$wechat.scanQRCode({desc:"scanQRCode desc",needResult:1,scanType:["qrCode","barCode"],success:function(e){/^https?:\/\/(\S[^\/]+)/.exec(e.resultStr)?window.location.href=e.resultStr:(t.scan_result=e.resultStr,t.show4=!0)},error:function(t){t.errMsg.indexOf("function_not_exist")>0&&alert("版本过低请升级")}})},checkJsApi:function(){this.$wechat.checkJsApi({jsApiList:["scanQRCode"],success:function(t){console.log("checkJsApi success",t),alert(t)}})},islink:function(t){var e=new RegExp(/^https?:\/\/(\S[^\/]+)/,"gi"),i=e.exec(t);return i||!1},onConfirm4:function(){var t=this;console.log("on confirm"),this.$vux.loading.show({transition:"",text:"..."}),setTimeout(function(){t.$vux.loading.hide(),t.show4=!1,window.location.reload()},1e3)},showPlugin:function(t){this.show4=!0}},data:function(){return{wx_config_data:{},scan_result:"",show4:!1}}}),vn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("confirm",{attrs:{"close-on-confirm":!1,title:t.$t("提示"),"show-cancel-button":!1},on:{"on-confirm":t.onConfirm4},model:{value:t.show4,callback:function(e){t.show4=e},expression:"show4"}},[i("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(this.scan_result))])])],1)},gn=[],_n={render:vn,staticRenderFns:gn},xn=_n,wn=i("VU/8"),bn=y,yn=wn(pn,xn,!1,bn,"data-v-4d7500e4",null),Cn=yn.exports;C.a.use($.a);var Sn=[{path:"/devices",name:"devices",component:he},{path:"/",name:"Home",component:Z},{path:"/device-view/:id",name:"device-view",component:ei},{path:"/maintain-detail/:id",name:"maintain-detail",component:Fi},{path:"/repair-detail/:id",name:"repair-detail",component:qi},{path:"/add-repair",name:"add-repair",component:zi.a},{path:"/redirect",name:"redirect",component:en},{path:"/device-scan",name:"device-scan",component:Cn}],kn=new $.a({mode:"history",routes:Sn}),$n=i("n6Wb"),Vn=i("R3Rq"),Bn=i("NXWw"),Tn=i("Peep"),In=i("Y+qm"),Fn=i("NYxO"),Rn=i("kmDT");C.a.use(Fn.a);var Nn=new Fn.a.Store({state:{configFlag:!1,selected:"详细信息",currentRepair:{}},modules:{i18n:Rn.a.store},mutations:{setConfigFlag:function(t){t.configFlag=!0},setSelected:function(t,e){t.selected=e},setCurrentRepair:function(t,e){t.currentRepair=e}}}),jn=Nn,Dn={getData:function(){return[{filename:"d5a9486e8c261137b22bc1aee5d1410f.png",filekey:"1d5a9486e8c261137b22bc1aee5d1410f.png",fileurl:"http://lams-1257122319.cos.ap-beijing.myqcloud.com/d5a9486e8c261137b22bc1aee5d1410f.png"},{filename:"d5a9486e8c261137b22bc1aee5d1410f.png",filekey:"2d5a9486e8c261137b22bc1aee5d1410f.png",fileurl:"http://lams-1257122319.cos.ap-beijing.myqcloud.com/d5a9486e8c261137b22bc1aee5d1410f.png"},{filename:"d5a9486e8c261137b22bc1aee5d1410f.png",filekey:"3d5a9486e8c261137b22bc1aee5d1410f.png",fileurl:"http://lams-1257122319.cos.ap-beijing.myqcloud.com/d5a9486e8c261137b22bc1aee5d1410f.png"},{filename:"d5a9486e8c261137b22bc1aee5d1410f.png",filekey:"4d5a9486e8c261137b22bc1aee5d1410f.png",fileurl:"http://lams-1257122319.cos.ap-beijing.myqcloud.com/d5a9486e8c261137b22bc1aee5d1410f.png"},{filename:"d5a9486e8c261137b22bc1aee5d1410f.png",filekey:"5d5a9486e8c261137b22bc1aee5d1410f.png",fileurl:"http://lams-1257122319.cos.ap-beijing.myqcloud.com/d5a9486e8c261137b22bc1aee5d1410f.png"},{filename:"d5a9486e8c261137b22bc1aee5d1410f.png",filekey:"6d5a9486e8c261137b22bc1aee5d1410f.png",fileurl:"http://lams-1257122319.cos.ap-beijing.myqcloud.com/d5a9486e8c261137b22bc1aee5d1410f.png"}]}},On=Dn;C.a.use(On),C.a.use(Tn.a),C.a.use(Bn.a),C.a.use(In.a),C.a.use($n.a),C.a.use(M.a,A.a),C.a.use($.a),C.a.use(Rn.a.plugin,jn),C.a.use(Vn.a),/zh/.test(C.a.locale.get())?C.a.i18n.set("zh-CN"):C.a.i18n.set("en"),k.a.attach(document.body),C.a.config.productionTip=!1,new C.a({router:kn,store:jn,render:function(t){return t(D)}}).$mount("#app")},Ngll:function(t,e){},OsXO:function(t,e){},RMDY:function(t,e){},Ugwv:function(t,e){},YxJB:function(t,e,i){"use strict";function n(t){i("cqo/")}var a=(Number,String,String,String,String,String,{name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){return{"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction}}}}),s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-flexbox",class:{"vux-flex-col":"vertical"===t.orient,"vux-flex-row":"horizontal"===t.orient},style:t.styles},[t._t("default")],2)},o=[],r={render:s,staticRenderFns:o},l=r,c=i("VU/8"),u=n,d=c(a,l,!1,u,null,null);e.a=d.exports},ZUNL:function(t,e){},"b+jt":function(t,e,i){"use strict";var n={name:"swiper-item",mounted:function(){var t=this;this.$nextTick(function(){t.$parent.rerender()})},beforeDestroy:function(){var t=this.$parent;this.$nextTick(function(){t.rerender()})}},a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-swiper-item"},[t._t("default")],2)},s=[],o={render:a,staticRenderFns:s},r=o,l=i("VU/8"),c=l(n,r,!1,null,null,null);e.a=c.exports},"cqo/":function(t,e){},d1Im:function(t,e){},dCUv:function(t,e){},e66H:function(t,e,i){"use strict";function n(t){i("rI5v")}var a=(Number,Number,Number,String,Boolean,String,String,Number,Number,{name:"rater",created:function(){this.currentValue=parseInt(this.value)},mounted:function(){this.updateStyle()},props:{min:{type:Number,default:0},max:{type:Number,default:5},value:{type:[Number,String],default:0},disabled:Boolean,star:{type:String,default:"★"},activeColor:{type:String,default:"#fc6"},margin:{type:Number,default:2},fontSize:{type:Number,default:25}},computed:{sliceValue:function(){var t=this.currentValue.toFixed(2).split(".");return 1===t.length?[t[0],0]:t},cutIndex:function(){return 1*this.sliceValue[0]},cutPercent:function(){return 1*this.sliceValue[1]}},methods:{handleClick:function(t,e){this.disabled&&!e||(this.currentValue===t+1?(this.currentValue=t<this.min?this.min:t,this.updateStyle()):this.currentValue=t+1<this.min?this.min:t+1)},updateStyle:function(){for(var t=0;t<this.max;t++)t<=this.currentValue-1?this.$set(this.colors,t,this.activeColor):this.$set(this.colors,t,"#ccc")}},data:function(){return{colors:[],currentValue:0}},watch:{currentValue:function(t){this.updateStyle(),this.$emit("input",t)},value:function(t){this.currentValue=t}}}),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-rater"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticStyle:{display:"none"},domProps:{value:t.currentValue},on:{input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}),t._v(" "),t._l(t.max,function(e){return i("a",{staticClass:"vux-rater-box",class:{"is-active":t.currentValue>e-1},style:{color:t.colors&&t.colors[e-1]?t.colors[e-1]:"#ccc",marginRight:t.margin+"px",fontSize:t.fontSize+"px",width:t.fontSize+"px",height:t.fontSize+"px",lineHeight:t.fontSize+"px"},on:{click:function(i){return t.handleClick(e-1)}}},[i("span",{staticClass:"vux-rater-inner"},[i("span",{domProps:{innerHTML:t._s(t.star)}}),t.cutPercent>0&&t.cutIndex===e-1?i("span",{staticClass:"vux-rater-outer",style:{color:t.activeColor,width:t.cutPercent+"%"},domProps:{innerHTML:t._s(t.star)}}):t._e()])])})],2)},o=[],r={render:s,staticRenderFns:o},l=r,c=i("VU/8"),u=n,d=c(a,l,!1,u,null,null);e.a=d.exports},e7eu:function(t,e){},fBcm:function(t,e,i){"use strict";function n(t){i("d1Im")}var a=i("mvHQ"),s=i.n(a),o=i("NjrX"),r=i("0FxO"),l=(Array,String,Boolean,Boolean,String,String,Boolean,Boolean,Number,Number,Number,String,Number,Number,Number,{name:"swiper",created:function(){this.index=this.value||0,this.index&&(this.current=this.index)},mounted:function(){var t=this;this.hasTwoLoopItem(),this.$nextTick(function(){t.list&&0===t.list.length||t.render(t.index),t.xheight=t.getHeight(),t.$emit("on-get-height",t.xheight)})},methods:{hasTwoLoopItem:function(){2===this.list.length&&this.loop?this.listTwoLoopItem=this.list:this.listTwoLoopItem=[]},clickListItem:function(t){Object(r.a)(t.url,this.$router),this.$emit("on-click-list-item",JSON.parse(s()(t)))},buildBackgroundUrl:function(t){return t.fallbackImg?"url("+t.img+"), url("+t.fallbackImg+")":"url("+t.img+")"},render:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.swiper&&this.swiper.destroy(),this.swiper=new o.a({container:this.$el,direction:this.direction,auto:this.auto,loop:this.loop,interval:this.interval,threshold:this.threshold,duration:this.duration,height:this.height||this._height,minMovingDistance:this.minMovingDistance,imgList:this.imgList}).on("swiped",function(e,i){t.current=i%t.length,t.index=i%t.length}),e>0&&this.swiper.go(e)},rerender:function(){var t=this;this.$el&&!this.hasRender&&(this.hasRender=!0,this.hasTwoLoopItem(),this.$nextTick(function(){t.index=t.value||0,t.current=t.value||0,t.length=t.list.length||t.$children.length,t.destroy(),t.render(t.value)}))},destroy:function(){this.hasRender=!1,this.swiper&&this.swiper.destroy()},getHeight:function(){var t=parseInt(this.height,10);return t?this.height:t?void 0:this.aspectRatio?this.$el.offsetWidth*this.aspectRatio+"px":"180px"}},props:{list:{type:Array,default:function(){return[]}},direction:{type:String,default:"horizontal"},showDots:{type:Boolean,default:!0},showDescMask:{type:Boolean,default:!0},dotsPosition:{type:String,default:"right"},dotsClass:String,auto:Boolean,loop:Boolean,interval:{type:Number,default:3e3},threshold:{type:Number,default:50},duration:{type:Number,default:300},height:{type:String,default:"auto"},aspectRatio:Number,minMovingDistance:{type:Number,default:0},value:{type:Number,default:0}},data:function(){return{hasRender:!1,current:this.index||0,xheight:"auto",length:this.list.length,index:0,listTwoLoopItem:[]}},watch:{auto:function(t){t?this.swiper&&this.swiper._auto():this.swiper&&this.swiper.stop()},list:function(t,e){s()(t)!==s()(e)&&this.rerender()},current:function(t){this.index=t,this.$emit("on-index-change",t)},index:function(t){var e=this;t!==this.current&&this.$nextTick(function(){e.swiper&&e.swiper.go(t)}),this.$emit("input",t)},value:function(t){this.index=t}},beforeDestroy:function(){this.destroy()}}),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-slider"},[i("div",{staticClass:"vux-swiper",style:{height:t.xheight}},[t._t("default"),t._v(" "),t._l(t.list,function(e,n){return i("div",{staticClass:"vux-swiper-item",attrs:{"data-index":n},on:{click:function(i){return t.clickListItem(e)}}},[i("a",{attrs:{href:"javascript:"}},[i("div",{staticClass:"vux-img",style:{backgroundImage:t.buildBackgroundUrl(e)}}),t._v(" "),t.showDescMask?i("p",{staticClass:"vux-swiper-desc"},[t._v(t._s(e.title))]):t._e()])])}),t._v(" "),t._l(t.listTwoLoopItem,function(e,n){return t.listTwoLoopItem.length>0?i("div",{staticClass:"vux-swiper-item vux-swiper-item-clone",attrs:{"data-index":n},on:{click:function(i){return t.clickListItem(e)}}},[i("a",{attrs:{href:"javascript:"}},[i("div",{staticClass:"vux-img",style:{backgroundImage:t.buildBackgroundUrl(e)}}),t._v(" "),t.showDescMask?i("p",{staticClass:"vux-swiper-desc"},[t._v(t._s(e.title))]):t._e()])]):t._e()})],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDots,expression:"showDots"}],class:[t.dotsClass,"vux-indicator","vux-indicator-"+t.dotsPosition]},t._l(t.length,function(e){return i("a",{attrs:{href:"javascript:"}},[i("i",{staticClass:"vux-icon-dot",class:{active:e-1===t.current}})])}),0)])},u=[],d={render:c,staticRenderFns:u},h=d,m=i("VU/8"),f=n,p=m(l,h,!1,f,null,null);e.a=p.exports},fegz:function(t,e){},gyMJ:function(t,e,i){"use strict";var n="http://dms.api.olfu.xyz/",a={userauth:n+"user/auth",devices:n+"devices",detail:n+"devices/",filters:n+"devices/filters",jsticket:n+"site/jsticket",jssign:n+"site/jssign",login:n+"user/weworklogin",userinfo:n+"user/view",redirect:n+"redirect",repair:n+"reports?device_id=",uploadimage:n+"site/upload",uploadimagebase64:n+"site/upload-image-base64",addrepair:n+"report/create",repairDetail:n+"reports/",repairComment:n+"comments?",weworkToken:n+"user/weworklogin",uploadimageserverId:n+"site/upload-image-serverid",addcomment:n+"comment/create"};e.a=a},jYbJ:function(t,e){},kbG3:function(t,e,i){"use strict";function n(t){i("3k2l")}var a={name:"inline-desc"},s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{staticClass:"vux-label-desc"},[t._t("default")],2)},o=[],r={render:s,staticRenderFns:o},l=r,c=i("VU/8"),u=n,d=c(a,l,!1,u,null,null);e.a=d.exports},mzja:function(t,e,i){"use strict";function n(t){i("55wj")}var a=i("/kga"),s=(a.a,Boolean,String,String,String,Boolean,String,String,Number,String,{name:"alert",components:{XDialog:a.a},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(t){this.showValue=t},showValue:function(t){this.$emit("input",t)}}}),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-alert"},[i("x-dialog",{attrs:{"mask-transition":t.maskTransition,"dialog-transition":t.dialogTransition,"hide-on-blur":t.hideOnBlur,"mask-z-index":t.maskZIndex},on:{"on-hide":function(e){return t.$emit("on-hide")},"on-show":function(e){return t.$emit("on-show")}},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[i("div",{staticClass:"weui-dialog__hd"},[i("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]),t._v(" "),i("div",{staticClass:"weui-dialog__bd"},[t._t("default",[i("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t._v(" "),i("div",{staticClass:"weui-dialog__ft"},[i("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t._onHide}},[t._v(t._s(t.buttonText||"确定"))])])])],1)},r=[],l={render:o,staticRenderFns:r},c=l,u=i("VU/8"),d=n,h=u(s,c,!1,d,null,null);e.a=h.exports},nnSp:function(t,e){},oWtu:function(t,e,i){"use strict";function n(t){i("2lnh")}var a=(String,Boolean,{name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}}),s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("i",{class:[t.className,t.isMsg?"weui-icon_msg":""]})},o=[],r={render:s,staticRenderFns:o},l=r,c=i("VU/8"),u=n,d=c(a,l,!1,u,null,null);e.a=d.exports},owug:function(t,e){},ph9p:function(t,e){},qHQD:function(t,e){},qMt5:function(t,e,i){"use strict";function n(t){i("jYbJ")}function a(t){i("e7eu")}var s=i("ABCa"),o=i("fBcm"),r=i("b+jt"),l=i("fZjL"),c=i.n(l),u=i("oWtu"),d=i("zV4+"),h=i("rHil"),m=i("kbG3"),f=i("KRg4"),p=i("ODCk"),v=(f.a,h.a,m.a,u.a,String,String,String,String,String,Number,Number,String,String,String,String,String,String,String,String,Boolean,Number,Number,String,String,String,Function,Boolean,Array,Array,Boolean,String,Function,Function,Object,{name:"datetime",mixins:[f.a],components:{Group:h.a,InlineDesc:m.a,Icon:u.a},props:{format:{type:String,default:"YYYY-MM-DD",validator:function(t){return!0}},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:function(t){return!t||10===t.length}},endDate:{type:String,validator:function(t){return!t||10===t.length}},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function,orderMap:Object},created:function(){this.isFirstSetValue=!1,this.currentValue=this.value},data:function(){return{currentShow:!1,currentValue:null,valid:!0,errors:{}}},mounted:function(){var t=this,e=this.uuid;this.$el.setAttribute("id","vux-datetime-"+e),this.readonly||this.$nextTick(function(){t.render(),t.show&&t.$nextTick(function(){t.picker&&t.picker.show(t.currentValue)})})},computed:{styles:function(){return this.$parent?{width:this.$parent.labelWidth,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}:{}},pickerOptions:function(){var t=this,e={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:t.getButtonText("confirm"),cancelText:t.getButtonText("cancel"),clearText:t.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,orderMap:this.orderMap||{},onSelect:function(e,i,n){t.picker&&t.picker.config.renderInline&&(t.$emit("input",n),t.$emit("on-change",n))},onConfirm:function(e){t.currentValue=e},onClear:function(e){t.$emit("on-clear",e)},onHide:function(e){t.currentShow=!1,t.$emit("update:show",!1),t.validate(),t.$emit("on-hide",e),"cancel"===e&&t.$emit("on-cancel"),"confirm"===e&&setTimeout(function(){t.$nextTick(function(){t.$emit("on-confirm",t.value)})})},onShow:function(){t.currentShow=!0,t.$emit("update:show",!0),t.$emit("on-show")}};return this.minYear&&(e.minYear=this.minYear),this.maxYear&&(e.maxYear=this.maxYear),e},firstError:function(){var t=c()(this.errors)[0];return this.errors[t]},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{getButtonText:function(t){return"cancel"===t&&this.cancelText?this.cancelText:"confirm"===t&&this.confirmText?this.confirmText:this.$el.getAttribute("data-"+t+"-text")},render:function(){var t=this;this.$nextTick(function(){t.picker&&t.picker.destroy(),t.picker=new d.a(t.pickerOptions)})},validate:function(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly:function(t){t?this.picker&&this.picker.destroy():this.render()},show:function(t){t!==this.currentShow&&(t?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue))},currentValue:function(t,e){this.$emit("input",t),this.isFirstSetValue?this.$emit("on-change",t):(this.isFirstSetValue=!0,e&&this.$emit("on-change",t)),this.validate()},startDate:function(){this.render()},endDate:function(){this.render()},format:function(t){this.currentValue&&(this.currentValue=Object(p.a)(this.currentValue,t)),this.render()},value:function(t){if(this.readonly||this.picker&&this.picker.config.renderInline)return void(this.currentValue=t);this.currentValue!==t&&(this.currentValue=t,this.render())}},beforeDestroy:function(){this.picker&&this.picker.destroy()}}),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"vux-datetime weui-cell",class:{"weui-cell_access":!t.readonly},attrs:{"data-cancel-text":"取消","data-confirm-text":"确定",href:"javascript:"}},[t._t("default",[i("div",[t._t("title",[i("p",{class:t.labelClass,style:t.styles,domProps:{innerHTML:t._s(t.title)}})]),t._v(" "),t.inlineDesc?i("inline-desc",[t._v(t._s(t.inlineDesc))]):t._e()],2),t._v(" "),i("div",{staticClass:"weui-cell__ft vux-cell-primary vux-datetime-value",style:{textAlign:t.valueTextAlign}},[!t.currentValue&&t.placeholder?i("span",{staticClass:"vux-cell-placeholder"},[t._v(t._s(t.placeholder))]):t._e(),t._v(" "),t.currentValue?i("span",{staticClass:"vux-cell-value"},[t._v(t._s(t.displayFormat?t.displayFormat(t.currentValue):t.currentValue))]):t._e(),t._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:!t.valid,expression:"!valid"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:t.firstError}})],1)])],2)},_=[],x={render:g,staticRenderFns:_},w=x,b=i("VU/8"),y=n,C=b(v,w,!1,y,null,null),S=C.exports,k=i("2sLL"),$=i("YxJB"),V=i("3Lt7"),B=i("62KO"),T=i("0xDb"),I=i("gyMJ"),F=(s.a,o.a,r.a,k.a,$.a,V.a,B.a,{name:"DeviceAddRepair",components:{XHeader:s.a,Swiper:o.a,SwiperItem:r.a,Datetime:S,XButton:k.a,Flexbox:$.a,FlexboxItem:V.a,Confirm:B.a},mounted:function(){this.initWxConfig(),this.device_id=this.$route.query.device_id,this.device_id<=0&&window.history.go(-1),this.getDevice(this.device_id)},data:function(){return{demo01_index:0,demo01_list:[],value1:Object(p.a)(new Date,"YYYY-MM-DD"),device_id:"",text:"",fullWidth:document.documentElement.clientWidth,wx_config_data:{},previews:[],localIds:[],confirm:!1,error_msg:""}},methods:{initWxConfig:function(){var t=this,e=window.location.href;this.axios.get(I.a.jssign+"?url="+e).then(function(e){console.log("getJssign Api",e.data),t.wx_config_data.time_stamp=e.data.data.timestamp,t.wx_config_data.noncestr=e.data.data.nonce_str,t.wx_config_data.signature=e.data.data.signature,t.$wechat.config({beta:!0,debug:!1,appId:"wwa417d520fd30a759",timestamp:t.wx_config_data.time_stamp,nonceStr:t.wx_config_data.noncestr,signature:t.wx_config_data.signature,jsApiList:["getLocalImgData","chooseImage"]})})},log:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log(t,e)},demo01_onIndexChange:function(t){this.demo01_index=t},change:function(t){console.log("change",t)},onConfirm:function(t){this.confirm=!1},showConfirm:function(){var t=this;this.confirm=!0,setTimeout(function(){t.confirm=!1},3e3)},clickAddImage:function(){var t=this;t.$wechat.chooseImage({count:5,sizeType:["original","compressed"],sourceType:["album","camera"],defaultCameraMode:"batch",success:function(e){t.localIds=e.localIds,t.uploadImage(t.localIds.shift())},fail:function(t){}})},clickSubmit:function(){if(""===this.text)return this.error_msg="请填写描述",void this.showConfirm();if(this.previews.length>5)return this.error_msg="图片最多传5张",void this.showConfirm();var t=this,e=new FormData;if(e.append("device_id",this.device_id),e.append("description",this.text),e.append("time",this.value1),this.previews.length>0){for(var i="",n=0;n<this.previews.length;n++)i=""===i?this.previews[n].filekey:i+","+this.previews[n].filekey;e.append("images",i)}t.axios.post(I.a.addrepair+"?token="+window.localStorage.getItem("token"),e).then(function(e){200===e.data.code?t.$router.go(-1):5004===e.data.code?T.a.deletaUserData():5009===e.data.code?T.a.deletaUserData():(this.error_msg=e.data.code+":"+e.data.message,this.showConfirm())}).catch(function(t){console.log(t)}).finally()},getDevice:function(t){var e=this;this.axios.get(I.a.detail+t).then(function(t){e.device=t.data.data,e.demo01_list=[{url:"javascript:",img:e.device.images}]})},uploadImage:function(t){var e=this;e.$vux.loading.show({transition:"",text:"图片上传中..."}),e.$wechat.getLocalImgData({localId:t,success:function(t){var i=t.localData,n=i,a=new FormData;a.append("filedata",n),e.axios.post(I.a.uploadimagebase64,a).then(function(t){e.previews.push(t.data),e.localIds.length>0&&e.uploadImage(e.localIds.shift())}).catch(function(t){console.log(t),alert(t)}).finally()},fail:function(i){console.log(i),e.$wechat.uploadImage({localId:t,isShowProgressTips:1,success:function(t){var i=t.serverId,n=new FormData;n.append("server_id",i),e.axios.post(I.a.uploadimageserverId,n).then(function(t){e.previews.push(t.data),e.localIds.length>0&&e.uploadImage(e.localIds.shift())}).catch(function(t){console.log(t),alert(t)}).finally()}})}}),e.$vux.loading.hide()},removeImage:function(t){for(var e=this.previews.length-1;e>=0;e--)this.previews[e].filekey===t&&this.previews.splice(e,1)}}}),R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("x-header",[t._v("报修")]),t._v(" "),i("swiper",{attrs:{list:t.demo01_list,"show-dots":!1},on:{"on-index-change":t.demo01_onIndexChange},model:{value:t.demo01_index,callback:function(e){t.demo01_index=e},expression:"demo01_index"}}),t._v(" "),i("datetime",{attrs:{title:"报修日期",readonly:!0},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),t._v(" "),i("div",{staticStyle:{margin:"0px",width:"100%","text-align":"center"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticStyle:{width:"90%",height:"150px",padding:"10px","text-align":"left"},attrs:{placeholder:"请输入文字内容"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}},[t._v(t._s(this.text))])]),t._v(" "),i("div",{staticClass:"image-list"},[i("flexbox",{attrs:{gutter:10,wrap:"wrap"}},[t._l(t.previews,function(e){return i("flexbox-item",{key:e.filekey,staticClass:"upload-image",attrs:{span:2/9}},[i("img",{attrs:{src:e.fileurl},on:{click:function(i){return t.removeImage(e.filekey)}}})])}),t._v(" "),i("flexbox-item",{staticClass:"upload-image",attrs:{span:2/9}},[this.previews.length<5?i("div",{attrs:{id:"add-image"},on:{click:t.clickAddImage}},[i("span",[t._v("+")])]):t._e()])],2)],1),t._v(" "),i("div",{staticStyle:{margin:"15px"}},[i("x-button",{nativeOn:{click:function(e){return t.clickSubmit(e)}}},[t._v("提交")])],1),t._v(" "),i("confirm",{attrs:{"close-on-confirm":!1,title:t.$t("提示"),"show-cancel-button":!1},on:{"on-confirm":t.onConfirm},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[i("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(this.error_msg))])])],1)},N=[],j={render:R,staticRenderFns:N},D=j,O=i("VU/8"),A=a,L=O(F,D,!1,A,"data-v-eb2348c8",null);e.a=L.exports},qQ5p:function(t,e){},rHil:function(t,e,i){"use strict";function n(t){i("qHQD")}var a=i("wmxo"),s=(a.a,String,String,String,String,String,String,Number,String,String,{name:"group",methods:{cleanStyle:a.a},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.title?i("div",{staticClass:"weui-cells__title",style:t.cleanStyle({color:t.titleColor}),domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),t._t("title"),t._v(" "),i("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!t.title},style:t.cleanStyle({marginTop:"number"==typeof t.gutter?t.gutter+"px":t.gutter})},[t._t("after-title"),t._v(" "),t._t("default")],2),t._v(" "),t.footerTitle?i("div",{staticClass:"weui-cells__title vux-group-footer-title",style:t.cleanStyle({color:t.footerTitleColor}),domProps:{innerHTML:t._s(t.footerTitle)}}):t._e()],2)},r=[],l={render:o,staticRenderFns:r},c=l,u=i("VU/8"),d=n,h=u(s,c,!1,d,null,null);e.a=h.exports},rI5v:function(t,e){},siRm:function(t,e){},tU7V:function(t,e){},uGHa:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.59951be28ae1e40d20e1.js.map